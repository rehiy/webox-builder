### Update: 2020-03-12 ###

export wk_gcc=gcc-9.3.0

wk_find_gcc() {

    wk__apply http://ftp.gnu.org/gnu/gcc/${wk_gcc}/ ${wk_gcc} .tar.xz

}

wk_make_gcc() {

    wk_make_gcc_libatomic
    wk_make_gcc_libgomp

}

wk_inst_gcc() {

    if [ "$OS_TYPE" = "Linux" ]; then
        cp -a /usr/lib/x86_64-linux-gnu/libatomic.* ${wbcom}/lib/
        cp -a /usr/lib/x86_64-linux-gnu/libgomp.* ${wbcom}/lib/
    fi

}

########################################################################

wk_make_gcc_libatomic() {

    ## required by mysql

    cd ${wksrc}/${wk_gcc}/libatomic

    ./configure --prefix=${wbcom}

    make && make install

}

wk_make_gcc_libgomp() {

    ## required by imagick

    cd ${wksrc}/${wk_gcc}/libgomp

    ./configure --prefix=${wbcom}

    make && make install

}
